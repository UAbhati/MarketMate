package com.marketmate.model;

import java.time.Instant;

import com.marketmate.entity.ChatMessage;

/**
 * Represents a response from the LLM provider.
 */
public class APIResponse {
    /** Unique identifier of the chat completion */
    private String id;
    /** Number of tokens in the prompt */
    private int promptTokens;
    /** Number of tokens in the generated completion */
    private int completionTokens;
    /** Timestamp (in seconds) when the chat completion was created */
    private Instant createdAt;
    /** Chat completion message generated by the LLM. Role of the message is AI */
    private ChatMessage message;
    /**
     * Reason the model stopped generating tokens (e.g. STOP, LENGTH,
     * CONTENT_FILTER)
     */
    private String finishReason;

    public APIResponse() {
    }

    public APIResponse(ChatMessage message, int promptTokens, int completionTokens) {
        this.message = message;
        this.promptTokens = promptTokens;
        this.completionTokens = completionTokens;
        this.createdAt = Instant.now();
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public int getPromptTokens() {
        return promptTokens;
    }

    public void setPromptTokens(int promptTokens) {
        this.promptTokens = promptTokens;
    }

    public int getCompletionTokens() {
        return completionTokens;
    }

    public void setCompletionTokens(int completionTokens) {
        this.completionTokens = completionTokens;
    }

    public Instant getCreated() {
        return createdAt;
    }

    public void setCreated(Instant createdAt) {
        this.createdAt = createdAt;
    }

    public ChatMessage getMessage() {
        return message;
    }

    public void setMessage(ChatMessage message) {
        this.message = message;
    }

    public String getFinishReason() {
        return finishReason;
    }

    public void setFinishReason(String finishReason) {
        this.finishReason = finishReason;
    }
}
